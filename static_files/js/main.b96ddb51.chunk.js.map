{"version":3,"sources":["Todo.js","App.js","index.js"],"names":["axios","require","Todo","props","useState","changed","setChanged","body","setBody","done","setDone","newTodo","setReload","newDate","Date","finish","end_date","diff","Math","round","useEffect","todo","reloadParent","callback","uuidv4","id","get","process","then","res","data","catch","e","console","error","className","title","description","priority","Array","parseInt","map","type","checked","value","onChange","patch","onClick","delete","1","2","attributed_to","App","endDate","setEndDate","todos","setTodos","setAttributed_to","setPriority","setTitle","setDescription","setNewTodo","search","setSearch","filtered","filter","todowa","toLowerCase","indexOf","name","placeholder","target","call","onSubmit","getFullYear","getMonth","getDate","post","preventDefault","createTodo","required","selected","date","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b96ddb51.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { v4 as uuidv4 } from 'uuid';\r\nconst axios = require(\"axios\");\r\nconst Todo = (props) => {\r\n  \r\n  const [changed, setChanged] = useState(false);\r\n  const [body, setBody] = useState(\"\");\r\n  const [done, setDone] = useState(body.done);\r\n  const [reload, setReload] = useState(!props.newTodo);\r\n  let newDate = new Date();\r\n  let finish = new Date(body.end_date);\r\n  let one_day = 1000 * 60 * 60 * 24;\r\n  let diff = Math.round((finish - newDate) / one_day);\r\n  const staff = {\r\n    1: \"Adnane\",\r\n    2: \"Salma\",\r\n  };\r\n  useEffect(() => {\r\n    setBody(props.todo)\r\n    setDone(props.todo.done)\r\n  }, [props.todo]);\r\n  const reloadParent = () => {\r\n    props.callback(uuidv4());\r\n    setReload(uuidv4());\r\n  };\r\n  useEffect(() => {\r\n    if(body.id){\r\n      axios\r\n      .get(`${process.env.REACT_APP_API_URL}/todos/${body.id}/`)\r\n      .then((res) => {\r\n        setBody(res.data[0]);\r\n        reloadParent();\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      });\r\n    }\r\n  }, [changed]);\r\n\r\n  const deleteTodo = (id) => {\r\n    axios\r\n      .delete(`${process.env.REACT_APP_API_URL}/todos/${id}/`)\r\n      .then(() => {\r\n        reloadParent();\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      });\r\n  };\r\n  const doTodo = (e) => {\r\n    axios\r\n      .patch(`${process.env.REACT_APP_API_URL}/todos/${body.id}/`, {\r\n        done: !done,\r\n      })\r\n      .then(() => {\r\n        setChanged(!changed);\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      });\r\n  };\r\n  return (\r\n    <>\r\n      <li className=\"list-group-item d-flex justify-content-between align-items-center\">\r\n        <span className={body.done ? \"done\" : \"\"}>{body.title}</span>\r\n        <span className={body.done ? \"done\" : \"\"}>{body.description}</span>\r\n        <span className={body.done ? \"done\" : \"\"}>\r\n          {body.priority\r\n            ? [...Array(parseInt(body.priority))].map(() => \"üòç\")\r\n            : body.priority}\r\n        </span>\r\n        <span className={body.done ? \"done\" : \"\" || diff <= 1 ? \"almostDone\" : \"\"}>\r\n          {diff} left days\r\n        </span>\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"form-check-input\"\r\n          id=\"exampleCheck1\"\r\n          checked={done}\r\n          value={done}\r\n          onChange={(e) => doTodo(e)}\r\n        />\r\n        <button\r\n          className=\"btn btn-danger\"\r\n          id={body.id}\r\n          onClick={() => deleteTodo(body.id)}\r\n        >\r\n          {staff[body.attributed_to]}\r\n        </button>\r\n      </li>\r\n    </>\r\n  );\r\n};\r\nexport default Todo;\r\n","import \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport Todo from \"./Todo\";\nimport { useState, useEffect } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nconst axios = require(\"axios\");\nconst App = () => {\n  const [endDate, setEndDate] = useState(new Date());\n  const [todos, setTodos] = useState([]);\n  const [attributed_to, setAttributed_to] = useState(\"\");\n  const [priority, setPriority] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [newTodo, setNewTodo] = useState(uuidv4());\n  const [search, setSearch] = useState(\"\");\n  const createTodo = (e) => {\n    const body = {\n      title: title,\n      description: description,\n      end_date: `${endDate.getFullYear()}-${parseInt(endDate.getMonth()) + 1}-${\n        parseInt(endDate.getDate()) + 1\n      }`,\n      priority: parseInt(priority),\n      attributed_to: parseInt(attributed_to),\n    };\n    axios\n      .post(`${process.env.REACT_APP_API_URL}/todos/0/`, body)\n      .then(() => {\n        setNewTodo(uuidv4());\n        setAttributed_to('0');\n        setTitle(\"\");\n        setDescription(\"\");\n        setPriority(\"0\");\n        setEndDate(new Date());\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n    e.preventDefault();\n  };\n  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}/todos/0/`)\n      .then((res) => {\n        setTodos(res.data);\n      })\n      .catch((e) => {\n        console.error(e);\n      });\n  }, [newTodo]);\n  let filtered = todos.filter((todowa) => {\n    return todowa.title.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n  });\n  return (\n    <>\n      <div className=\"container\">\n        <header className=\"text-center text-light my-4\">\n          <h1 className=\"mb-4\">Xerixy Todo List</h1>\n          <form className=\"search\">\n            <input\n              className=\"form-control m-auto\"\n              type=\"text\"\n              name=\"search\"\n              placeholder=\"search todos\"\n              value={search}\n              onChange={(e) => setSearch(e.target.value)}\n            />\n          </form>\n        </header>\n        <ul className=\"list-group todos mx-auto text-light\">\n          {filtered.map((todo) => (\n            <Todo\n              key={todo.id}\n              todo={todo}\n              callback={setNewTodo}\n              call={newTodo}\n            />\n          ))}\n        </ul>\n\n        <form className=\"add text-center my-4\" onSubmit={(e) => createTodo(e)}>\n          <label className=\"text-light\">Add a new todo...</label>\n          <div className=\"form-group row\">\n            <label className=\"text-light\">To : </label>\n            <select\n              className=\"form-control\"\n              name=\"attributer_to\"\n              required\n              value={attributed_to}\n              onChange={(e) => setAttributed_to(e.target.value)}\n            >\n              <option value=\"0\">Select someone...</option>\n              <option value=\"1\">Adnane</option>\n              <option value=\"2\">Salma</option>\n            </select>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"text-light\">Todo Title</label>\n            <input\n              className=\"form-control m-auto\"\n              type=\"text\"\n              name=\"title\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"text-light\">Todo Description</label>\n            <input\n              className=\"form-control m-auto\"\n              type=\"text\"\n              name=\"description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n            />\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"text-light\">Priority</label>\n            <select\n              className=\"form-control\"\n              name=\"priority\"\n              required\n              value={priority}\n              onChange={(e) => setPriority(e.target.value)}\n            >\n              <option value=\"0\">Select Priority...</option>\n              <option value=\"1\">üòç</option>\n              <option value=\"2\">üòçüòç</option>\n              <option value=\"3\">üòçüòçüòç</option>\n            </select>\n          </div>\n          <div className=\"form-group row\">\n            <label className=\"text-light\">Select ending date</label>\n            <DatePicker\n              name=\"end_date\"\n              selected={endDate}\n              onChange={(date) => setEndDate(date)}\n            />\n          </div>\n\n          <button className=\"btn btn-success submit\">Submit</button>\n        </form>\n      </div>\n    </>\n  );\n};\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}